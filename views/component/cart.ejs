<div class="table-responsive">
    <table class="table">
        <tr>
            <th>img</th>
            <th>name</th>
            <th>unit</th>
        </tr>

        <% if(cart.length> 0)
            {
            let total = 0;

            cart.forEach(item => {
            %>
            <tr>
                <td>
                    <img src="/images/<%= item.product_image %>" class="" alt="image" width="60px" height="60px">
                </td>

                <td>
                    <%= item.product_name %>
                </td>

                <td>
                    <%= item.quantity %>
                </td>
                <!-- <td>
                                                    <%= parseFloat(item.quantity) * parseFloat(item.product_price) %>
                                                </td> -->
                <td><button type="button" class="btn btn-danger btn-sm"
                        onclick="remove_item(<%= item.product_id %>)">Remove</button>
                </td>
            </tr>
            <% total +=parseFloat(item.quantity) * parseFloat(item.product_price); }) %>
                <tr>
                    <td colspan="3" aling="right"><b>Total</b></td>
                    <td>
                        <%= total %>
                    </td>
                    <td>&nbsp;</td>
                </tr>
                <% } else { %>

                    <tr>
                        <td colspan="5" align="center">No Item Found in Cart</td>
                    </tr>

                    <% } %>
    </table>
</div>

<script>
    function remove_item(item_id) {
        if (confirm("Are you sure you want to remove it?")) {
            window.location.href = `/remove_item?id=${item_id}`;
        }
    }
</script>